var xt=Object.create;var F=Object.defineProperty,jt=Object.defineProperties,Lt=Object.getOwnPropertyDescriptor,Nt=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertyNames,Z=Object.getOwnPropertySymbols,Ft=Object.getPrototypeOf,rt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable;var St=(e,n,t)=>n in e?F(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Pt=(e,n)=>{for(var t in n||(n={}))rt.call(n,t)&&St(e,t,n[t]);if(Z)for(var t of Z(n))bt.call(n,t)&&St(e,t,n[t]);return e},ht=(e,n)=>jt(e,Nt(n));var _t=(e,n)=>{var t={};for(var i in e)rt.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&Z)for(var i of Z(e))n.indexOf(i)<0&&bt.call(e,i)&&(t[i]=e[i]);return t};var zt=(e,n)=>{for(var t in n)F(e,t,{get:n[t],enumerable:!0})},wt=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of $t(n))!rt.call(e,f)&&f!==t&&F(e,f,{get:()=>n[f],enumerable:!(i=Lt(n,f))||i.enumerable});return e};var st=(e,n,t)=>(t=e!=null?xt(Ft(e)):{},wt(n||!e||!e.__esModule?F(t,"default",{value:e,enumerable:!0}):t,e)),Vt=e=>wt(F({},"__esModule",{value:!0}),e);var Qt={};zt(Qt,{OTPInput:()=>Dt,OTPInputContext:()=>yt,REGEXP_ONLY_CHARS:()=>Kt,REGEXP_ONLY_DIGITS:()=>qt,REGEXP_ONLY_DIGITS_AND_CHARS:()=>Jt});module.exports=Vt(Qt);var r=st(require("react"));function Tt(e){let n=setTimeout(e,0),t=setTimeout(e,10),i=setTimeout(e,50);return[n,t,i]}var q=st(require("react"));function It(e){let n=q.useRef();return q.useEffect(()=>{n.current=e}),n.current}var S=st(require("react")),Xt=18,Mt=40,Yt=`${Mt}px`,Ut=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ct({containerRef:e,inputRef:n,pushPasswordManagerStrategy:t,isFocused:i}){let[f,D]=S.useState(!1),[G,H]=S.useState(!1),[V,W]=S.useState(!1),K=S.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&f&&G,[f,G,t]),T=S.useCallback(()=>{let m=e.current,h=n.current;if(!m||!h||V||t==="none")return;let a=m,B=a.getBoundingClientRect().left+a.offsetWidth,A=a.getBoundingClientRect().top+a.offsetHeight/2,X=B-Xt,J=A;document.querySelectorAll(Ut).length===0&&document.elementFromPoint(X,J)===m||(D(!0),W(!0))},[e,n,V,t]);return S.useEffect(()=>{let m=e.current;if(!m||t==="none")return;function h(){let A=window.innerWidth-m.getBoundingClientRect().right;H(A>=Mt)}h();let a=setInterval(h,1e3);return()=>{clearInterval(a)}},[e,t]),S.useEffect(()=>{let m=i||document.activeElement===n.current;if(t==="none"||!m)return;let h=setTimeout(T,0),a=setTimeout(T,2e3),B=setTimeout(T,5e3),A=setTimeout(()=>{W(!0)},6e3);return()=>{clearTimeout(h),clearTimeout(a),clearTimeout(B),clearTimeout(A)}},[n,i,t,T]),{hasPWMBadge:f,willPushPWMBadge:K,PWM_BADGE_SPACE_WIDTH:Yt}}var yt=r.createContext({}),Dt=r.forwardRef((A,B)=>{var X=A,{value:e,onChange:n,maxLength:t,textAlign:i="left",pattern:f,placeholder:D,inputMode:G="numeric",onComplete:H,pushPasswordManagerStrategy:V="increase-width",pasteTransformer:W,containerClassName:K,noScriptCSSFallback:T=Zt,render:m,children:h}=X,a=_t(X,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);var U,mt,pt,Rt,vt;let[J,at]=r.useState(typeof a.defaultValue=="string"?a.defaultValue:""),l=e!=null?e:J,I=It(l),x=r.useCallback(s=>{n==null||n(s),at(s)},[n]),p=r.useMemo(()=>f?typeof f=="string"?new RegExp(f):f:null,[f]),u=r.useRef(null),Q=r.useRef(null),tt=r.useRef({value:l,onChange:x,isIOS:typeof window!="undefined"&&((mt=(U=window==null?void 0:window.CSS)==null?void 0:U.supports)==null?void 0:mt.call(U,"-webkit-touch-callout","none"))}),Y=r.useRef({prev:[(pt=u.current)==null?void 0:pt.selectionStart,(Rt=u.current)==null?void 0:Rt.selectionEnd,(vt=u.current)==null?void 0:vt.selectionDirection]});r.useImperativeHandle(B,()=>u.current,[]),r.useEffect(()=>{let s=u.current,o=Q.current;if(!s||!o)return;tt.current.value!==s.value&&tt.current.onChange(s.value),Y.current.prev=[s.selectionStart,s.selectionEnd,s.selectionDirection];function d(){if(document.activeElement!==s){L(null),N(null);return}let c=s.selectionStart,P=s.selectionEnd,$=s.selectionDirection,v=s.maxLength,C=s.value,_=Y.current.prev,g=-1,E=-1,w;if(C.length!==0&&c!==null&&P!==null){let kt=c===P,Ot=c===C.length&&C.length<v;if(kt&&!Ot){let y=c;if(y===0)g=0,E=1,w="forward";else if(y===v)g=y-1,E=y,w="backward";else if(v>1&&C.length>1){let ot=0;if(_[0]!==null&&_[1]!==null){w=y<_[1]?"backward":"forward";let Gt=_[0]===_[1]&&_[0]<v;w==="backward"&&!Gt&&(ot=-1)}g=ot+y,E=ot+y+1}}g!==-1&&E!==-1&&g!==E&&u.current.setSelectionRange(g,E,w)}let gt=g!==-1?g:c,Et=E!==-1?E:P,At=w!=null?w:$;L(gt),N(Et),Y.current.prev=[gt,Et,At]}if(document.addEventListener("selectionchange",d,{capture:!0}),d(),document.activeElement===s&&et(!0),!document.getElementById("input-otp-style")){let c=document.createElement("style");if(c.id="input-otp-style",document.head.appendChild(c),c.sheet){let P="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";z(c.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),z(c.sheet,`[data-input-otp]:autofill { ${P} }`),z(c.sheet,`[data-input-otp]:-webkit-autofill { ${P} }`),z(c.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),z(c.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let b=()=>{o&&o.style.setProperty("--root-height",`${s.clientHeight}px`)};b();let R=new ResizeObserver(b);return R.observe(s),()=>{document.removeEventListener("selectionchange",d,{capture:!0}),R.disconnect()}},[]);let[ct,it]=r.useState(!1),[j,et]=r.useState(!1),[M,L]=r.useState(null),[k,N]=r.useState(null);r.useEffect(()=>{let s=Tt(()=>{var R,c,P,$;(R=u.current)==null||R.dispatchEvent(new Event("input"));let o=(c=u.current)==null?void 0:c.selectionStart,d=(P=u.current)==null?void 0:P.selectionEnd,b=($=u.current)==null?void 0:$.selectionDirection;o!==null&&d!==null&&(L(o),N(d),Y.current.prev=[o,d,b])});return()=>{s.forEach(o=>clearTimeout(o))}},[l,j]),r.useEffect(()=>{I!==void 0&&l!==I&&I.length<t&&l.length===t&&(H==null||H(l))},[t,H,I,l]);let O=Ct({containerRef:Q,inputRef:u,pushPasswordManagerStrategy:V,isFocused:j}),lt=r.useCallback(s=>{let o=s.currentTarget.value.slice(0,t);if(o.length>0&&p&&!p.test(o)){s.preventDefault();return}typeof I=="string"&&o.length<I.length&&document.dispatchEvent(new Event("selectionchange")),x(o)},[t,x,I,p]),ut=r.useCallback(()=>{var s;if(u.current){let o=Math.min(u.current.value.length,t-1),d=u.current.value.length;(s=u.current)==null||s.setSelectionRange(o,d),L(o),N(d)}et(!0)},[t]),dt=r.useCallback(s=>{var g,E;let o=u.current;if(!W&&(!tt.current.isIOS||!s.clipboardData||!o))return;let d=s.clipboardData.getData("text/plain"),b=W?W(d):d;s.preventDefault();let R=(g=u.current)==null?void 0:g.selectionStart,c=(E=u.current)==null?void 0:E.selectionEnd,v=(R!==c?l.slice(0,R)+b+l.slice(c):l.slice(0,R)+b+l.slice(R)).slice(0,t);if(v.length>0&&p&&!p.test(v))return;o.value=v,x(v);let C=Math.min(v.length,t-1),_=v.length;o.setSelectionRange(C,_),L(C),N(_)},[t,x,p,l]),Ht=r.useMemo(()=>({position:"relative",cursor:a.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[a.disabled]),ft=r.useMemo(()=>({position:"absolute",inset:0,width:O.willPushPWMBadge?`calc(100% + ${O.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:O.willPushPWMBadge?`inset(0 ${O.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[O.PWM_BADGE_SPACE_WIDTH,O.willPushPWMBadge,i]),Wt=r.useMemo(()=>r.createElement("input",ht(Pt({autoComplete:a.autoComplete||"one-time-code"},a),{"data-input-otp":!0,"data-input-otp-placeholder-shown":l.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":k,inputMode:G,pattern:p==null?void 0:p.source,"aria-placeholder":D,style:ft,maxLength:t,value:l,ref:u,onPaste:s=>{var o;dt(s),(o=a.onPaste)==null||o.call(a,s)},onChange:lt,onMouseOver:s=>{var o;it(!0),(o=a.onMouseOver)==null||o.call(a,s)},onMouseLeave:s=>{var o;it(!1),(o=a.onMouseLeave)==null||o.call(a,s)},onFocus:s=>{var o;ut(),(o=a.onFocus)==null||o.call(a,s)},onBlur:s=>{var o;et(!1),(o=a.onBlur)==null||o.call(a,s)}})),[lt,ut,dt,G,ft,t,k,M,a,p==null?void 0:p.source,l]),nt=r.useMemo(()=>({slots:Array.from({length:t}).map((s,o)=>{var c;let d=j&&M!==null&&k!==null&&(M===k&&o===M||o>=M&&o<k),b=l[o]!==void 0?l[o]:null,R=l[0]!==void 0?null:(c=D==null?void 0:D[o])!=null?c:null;return{char:b,placeholderChar:R,isActive:d,hasFakeCaret:d&&b===null}}),isFocused:j,isHovering:!a.disabled&&ct}),[j,ct,t,k,M,a.disabled,l]),Bt=r.useMemo(()=>m?m(nt):r.createElement(yt.Provider,{value:nt},h),[h,nt,m]);return r.createElement(r.Fragment,null,T!==null&&r.createElement("noscript",null,r.createElement("style",null,T)),r.createElement("div",{ref:Q,"data-input-otp-container":!0,style:Ht,className:K},Bt,r.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Wt)))});Dt.displayName="Input";function z(e,n){try{e.insertRule(n)}catch(t){console.error("input-otp could not insert CSS rule:",n)}}var Zt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;var qt="^\\d+$",Kt="^[a-zA-Z]+$",Jt="^[a-zA-Z0-9]+$";0&&(module.exports={OTPInput,OTPInputContext,REGEXP_ONLY_CHARS,REGEXP_ONLY_DIGITS,REGEXP_ONLY_DIGITS_AND_CHARS});
//# sourceMappingURL=index.js.map